\documentclass[a4paper,11pt]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[spanish]{babel}

\usepackage[margin=2cm]{geometry}   % Margenes
\usepackage{amsmath}    % Texto en modo math

\usepackage{framed}
\usepackage{color}  % Color boxes
\definecolor{shadecolor}{rgb}{1, 0.8, 0.3}

\usepackage{float}  % [H] en figure

\title{Solución a los ejercicios conceptuales del libro
    \begin{center}
        \textit{An Introduction to Statistical Learning\\
        with Applications in R}
    \end{center}
    }

\author{Juan Rosendo González Feria}

\begin{document}

\maketitle
% \tableofcontents

\begin{abstract}
    El presente archivo pretende ser un compendio de las soluciones a los
    ejercicios conceptuales del libro \textit{An Introduction to Statistical
    Learning with Applications in R}. El libro consiste en una serie de
    ejercicios al final de cada capítulo. Estos ejercicios están separados en
    dos tipos: conceptual y aplicado. Este archivo contendrá solamente los
    ejercicios que se encuentran en la categoría de conceptuales, dejando los
    ejercicios aplicados para otro documento aparte en el que el código y el
    texto congenien mejor.
\end{abstract}

\section{Capítulo 1: \textit{Introduction}}
    El capítulo es meramente introductorio a los objetivos del libro, por lo que
    no hay una sección de ejercicios aquí.

\section{Capítulo 2: \textit{Statistical Learning}}
    Los ejercicios conceptuales del capítulo 2 son los siguientes:
    \begin{enumerate}
        \item For each of parts a) through d), indicate whether we would
        generally expect the performance of a ﬂexible statistical learning
        method to be better or worse than an inﬂexible method. Justify your
        answer.
        \begin{enumerate}
            \item The sample size $n$ is extremely large, and the number of
            predictors $p$ is small.
            \item The number of predictors $p$ is extremely large, and the
            number of observations $n$ is small.
            \item The relationship between the predictors and response is highly
            non-linear.
            \item The variance of the error terms, i.e. $
            \sigma^2=\text{Var}(\epsilon)$, is extremely high.
        \end{enumerate}
{\sl
        \begin{shaded}
            Para responder el ejercicio es necesario entender que quiere decir
            que un modelo sea flexible. Un modelo se dice que es flexible si
            para estimar $\hat{f}$ dispone de muchas formas posibles. Así los
            modelos de regresión lineal no son flexibles pues solo generan
            ``rectas'', mientras que en un modelo SVM $\hat{f} $ dispone de una
            amplia gama de formas.
            
            Así en el caso donde se cuentan con pocos predictores y muchas
            observaciones es de esperar que un modelo inflexible se desempeñe
            mejor, pues al ser demasiadas observaciones un modelo flexible
            podría sobreajustar sus datos con más facilidad.
            
            En el caso inverso es de esperar que un modelo flexible tenga un
            desempeño mejor, ya que al haber muchos predictores es altamente
            probable que la función $f$ no tenga una forma ``clara''.
            
            Por otro lado si la relación entre predictores es altamente no
            lineal, un modelo flexible se puede desempeñar mejor que uno
            inflexible al no asumir una forma parámetrica de la función $f$
            
            Finalmente, si la varianza de los errores es extremadamente alta un
            modelo no flexible podría desempeñarse mejor que uno flexible pues
            estos últimos podría ajustarse de manera errónea dada la alta
            varianza de los errores.
        \end{shaded}
}
        \item Explain whether each scenario is a classiﬁcation or regression
        problem, and indicate whether we are most interested in inference or
        prediction. Finally, provide $n$ and $p$.
        \begin{enumerate}
            \item We collect a set of data on the top 500 ﬁrms in the US. For
            each ﬁrm we record proﬁt, number of employees, industry and the CEO
            salary. We are interested in understanding which factors affect CEO
            salary.
            \item We are considering launching a new product and wish to know
            whether it will be a success or a failure. We collect data on 20
            similar products that were previously launched. For each product we
            have recorded whether it was a success or failure, price charged for
            the product, marketing budget, competition price, and ten other
            variables.
            \item We are interested in predicting the \% change in the USD/Euro
            exchange rate in relation to the weekly changes in the world stock
            markets. Hence we collect weekly data for all of 2012. For each week
            we record the \% change in the USD/Euro, the \% change in the US
            market, the \% change in the British market, and the \% change in
            the German market.
        \end{enumerate}
{\sl
        \begin{shaded}
        Nuevamente para responder esta pregunta debemos ser capaces de
        distinguir las diferencias entre problema de regresión y uno de
        clasificación. Así también debemos saber las diferencias entre
        predicción e inferencia. Comencemos con la diferencia entre regresión y
        clasificación:
        \begin{table}[H]
            \centering
            \begin{tabular}{|cc|}
                \hline
                \multicolumn{2}{|c|}{Un problema es de} \\ \hline
                \multicolumn{1}{|c|}{\textbf{Regresión}} &
                \textbf{Clasificación} \\ \hline
                \multicolumn{1}{|c|}{Si la variable respuesta $y$ es numérica}
                & Si la variable respuesta $y$ es categórica \\ \hline
            \end{tabular}
            \caption{Principales características entre un problema de regresión
            y uno de clasificación.}
        \end{table}
        Ahora precisemos las diferencias entre predicción e inferencia:
        \begin{table}[H]
            \centering
            \begin{tabular}{|cc|}
            \hline
            \multicolumn{2}{|c|}{El fin de un modelo es la}
            \\ \hline
            \multicolumn{1}{|c|}{\textbf{Predicción}} & \textbf{Inferencia}\\
            \hline
            \multicolumn{1}{|c|}{\begin{tabular}[c]{@{}c@{}} Cuando solamente
            queremos hacer\\ predicciones a partir del modelo.\\ Tipicamente los
            modelos son usados\\ aquí como cajas negras.\end{tabular}} & 
            \begin{tabular}[c]{@{}c@{}}Cuando además de buscar hacer buenas\\
            predicciones se busca conocer a\\ 
            fondo la relación funcional entre\\ la variable respuesta y sus
            predictores,\\ la importancia de los predictores y\\ su relación con
            la respuesta. \end{tabular} \\ \hline
            \end{tabular}
            \caption{Predicción vs Inferencia.}
        \end{table}
        Realizadas las precisiones ahora ya podemos responder adecuadamente:
        \begin{itemize}
            \item Para el primer problema se tiene que el \textbf{salario CEO es
            la variable respuesta} y el resto son los predictores. Al ser una
            variable numérica se trata de un problema de \textbf{regresión}.
            Además, al estar interesado de los factores que afectan el salario
            entonces el modelo se crea con el fin de hacer \textbf{inferencia}.
            \item En el segundo problema se tiene que el veredicto
            \textbf{éxito/fracaso es la variable respuesta}, claramente esta
            variable es de tipo categórico, por lo que estamos frente a un
            problema de \textbf{clasificación}. Finalmente, dado que solo nos
            importa si el nuevo producto será un éxito o no, el modelo se
            implementa con el fin de hacer \textbf{predicción}. 
            \item El último problema tiene al \textbf{porcentaje del tipo de
            cambio USD/Euro como variable respuesta}. Ahora, al se este
            porcentaje una variable numérica estamos frente a un problema de
            \textbf{regresión}. Finalmente, el problema especifica que estamos
            unicamente interesados en hacer predicciones, por lo que el fin del
            modelo es hacer \textbf{predicción}. 
        \end{itemize}    
        \end{shaded}
}
        \item We now revisit the bias-variance decomposition.
        \begin{enumerate}
            \item Provide a sketch of typical (squared) bias, variance, training
            error, test error, and Bayes (or irreducible) error curves, on a
            single plot, as we go from less ﬂexible statistical learning methods
            towards more ﬂexible approaches. The $x$-axis should represent the
            amount of ﬂexibility in the method, and the $y$-axis should
            represent the values for each curve. There should be ﬁve curves.
            Make sure to label each one.
            \item Explain why each of the ﬁve curves has the shape displayed in
            part a).
        \end{enumerate}
    \end{enumerate}
\end{document}
